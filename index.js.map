{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst MY_API_KEY = \"51560534-ee0888e2507fe11f794ee77c8\";\n\n\nexport function getImagesByQuery(query) {\n\n    return axios('https://pixabay.com/api/', {\n        params: {\n            key: MY_API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true\n                \n        }\n    })\n        .then(res =>  res.data.hits);\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { gallery } from \"../main\";\n\n\nexport function createGallery(images) {\n\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li>\n            <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"/></a>\n            <div class=\"descr\">\n                <p><span>Likes</span> ${likes}</p>\n                <p><span>Views</span> ${views}</p>\n                <p><span>Comments</span> ${comments}</p>\n                <p><span>Downloads</span> ${downloads}</p>\n            </div>\n        </li>\n    `).join(\"\");\n\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n\n}\n\n\n const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionsDelay: 250,\n });\n\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n    lightbox.refresh();\n}\n\nconst loader = document.querySelector(\".loader\");\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\nimport { clearGallery } from './js/render-functions.js';\nimport { showLoader } from './js/render-functions.js';\nimport { hideLoader } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input\");\nexport const gallery = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const userValueInput = input.value.toLowerCase().trim();\n\n    if (!userValueInput) {\n         iziToast.warning({\n            title: 'Warning',\n            message: 'Fill in the field!',\n            position:  'topRight'\n        })\n        return;\n    }\n\n    showLoader();\n    clearGallery();\n\n    getImagesByQuery(userValueInput)\n    .then( images => {\n        if (images.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            })\n        } else {\n            createGallery(images);\n        }\n        \n         })\n    .catch(error => {\n        iziToast.error({\n                title: 'Error',\n                message: error.message,\n                position: 'topRight'\n            })\n             \n    })\n    .finally(() => {\n        hideLoader();\n    })\n\n}\n\n"],"names":["MY_API_KEY","getImagesByQuery","query","axios","res","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","lightbox","SimpleLightbox","clearGallery","loader","showLoader","hideLoader","form","input","handleSubmit","event","userValueInput","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAa,qCAGZ,SAASC,EAAiBC,EAAO,CAEpC,OAAOC,EAAM,2BAA4B,CACrC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEf,CACT,CAAK,EACI,KAAKE,GAAQA,EAAI,KAAK,IAAI,CACnC,CCbO,SAASC,EAAcC,EAAQ,CAElC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAErFL,CAAa;AAAA,wBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA,wCAEVC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA;AAAA,KAGhD,EAAE,KAAK,EAAE,EAEVC,EAAQ,mBAAmB,YAAaR,CAAM,EAC9CS,EAAS,QAAO,CAEpB,CAGC,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,cAAe,GACnB,CAAE,EAGK,SAASC,GAAe,CAC3BH,EAAQ,UAAY,GACpBC,EAAS,QAAO,CACpB,CAEA,MAAMG,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CACzBD,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASE,GAAa,CACzBF,EAAO,UAAU,IAAI,QAAQ,CACjC,CCpCA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC/BR,EAAU,SAAS,cAAc,UAAU,EAExDO,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAiBH,EAAM,MAAM,YAAa,EAAC,KAAI,EAErD,GAAI,CAACG,EAAgB,CAChBC,EAAS,QAAQ,CACd,MAAO,UACP,QAAS,qBACT,SAAW,UACvB,CAAS,EACD,MACH,CAEDP,IACAF,IAEAjB,EAAiByB,CAAc,EAC9B,KAAMpB,GAAU,CACTA,EAAO,SAAW,EAClBqB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EAEDtB,EAAcC,CAAM,CAGhC,CAAU,EACL,MAAMsB,GAAS,CACZD,EAAS,MAAM,CACP,MAAO,QACP,QAASC,EAAM,QACf,SAAU,UAC1B,CAAa,CAEb,CAAK,EACA,QAAQ,IAAM,CACXP,GACR,CAAK,CAEL"}